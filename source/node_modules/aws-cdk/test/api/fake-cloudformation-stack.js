"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FakeCloudformationStack = void 0;
const aws_sdk_1 = require("aws-sdk");
const cloudformation_1 = require("../../lib/api/util/cloudformation");
const util_1 = require("../util");
class FakeCloudformationStack extends cloudformation_1.CloudFormationStack {
    constructor(props) {
        const cfnMock = util_1.instanceMockFrom(aws_sdk_1.CloudFormation);
        super(cfnMock, props.stackName);
        this.cfnMock = cfnMock;
        this.props = props;
        this.__template = {};
    }
    setTemplate(template) {
        this.__template = template;
    }
    async template() {
        return Promise.resolve(this.__template);
    }
    get stackId() {
        return this.props.stackId;
    }
}
exports.FakeCloudformationStack = FakeCloudformationStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFrZS1jbG91ZGZvcm1hdGlvbi1zdGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImZha2UtY2xvdWRmb3JtYXRpb24tc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUNBQXlDO0FBQ3pDLHNFQUFrRjtBQUNsRixrQ0FBMkM7QUFPM0MsTUFBYSx1QkFBd0IsU0FBUSxvQ0FBbUI7SUFLOUQsWUFBbUIsS0FBbUM7UUFDcEQsTUFBTSxPQUFPLEdBQUcsdUJBQWdCLENBQUMsd0JBQWMsQ0FBQyxDQUFDO1FBQ2pELEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxXQUFXLENBQUMsUUFBa0I7UUFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztJQUVNLEtBQUssQ0FBQyxRQUFRO1FBQ25CLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELElBQVcsT0FBTztRQUNoQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQzVCLENBQUM7Q0FDRjtBQXhCRCwwREF3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbG91ZEZvcm1hdGlvbiB9IGZyb20gJ2F3cy1zZGsnO1xuaW1wb3J0IHsgQ2xvdWRGb3JtYXRpb25TdGFjaywgVGVtcGxhdGUgfSBmcm9tICcuLi8uLi9saWIvYXBpL3V0aWwvY2xvdWRmb3JtYXRpb24nO1xuaW1wb3J0IHsgaW5zdGFuY2VNb2NrRnJvbSB9IGZyb20gJy4uL3V0aWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZha2VDbG91ZEZvcm1hdGlvblN0YWNrUHJvcHMge1xuICByZWFkb25seSBzdGFja05hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RhY2tJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRmFrZUNsb3VkZm9ybWF0aW9uU3RhY2sgZXh0ZW5kcyBDbG91ZEZvcm1hdGlvblN0YWNrIHtcbiAgcHVibGljIHJlYWRvbmx5IGNmbk1vY2s6IGplc3QuTW9ja2VkPENsb3VkRm9ybWF0aW9uPjtcbiAgcHJpdmF0ZSByZWFkb25seSBwcm9wczogRmFrZUNsb3VkRm9ybWF0aW9uU3RhY2tQcm9wcztcbiAgcHJpdmF0ZSBfX3RlbXBsYXRlOiBUZW1wbGF0ZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHJvcHM6IEZha2VDbG91ZEZvcm1hdGlvblN0YWNrUHJvcHMpIHtcbiAgICBjb25zdCBjZm5Nb2NrID0gaW5zdGFuY2VNb2NrRnJvbShDbG91ZEZvcm1hdGlvbik7XG4gICAgc3VwZXIoY2ZuTW9jaywgcHJvcHMuc3RhY2tOYW1lKTtcbiAgICB0aGlzLmNmbk1vY2sgPSBjZm5Nb2NrO1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLl9fdGVtcGxhdGUgPSB7fTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRUZW1wbGF0ZSh0ZW1wbGF0ZTogVGVtcGxhdGUpOiB2b2lkIHtcbiAgICB0aGlzLl9fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB0ZW1wbGF0ZSgpOiBQcm9taXNlPFRlbXBsYXRlPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9fdGVtcGxhdGUpO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGFja0lkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuc3RhY2tJZDtcbiAgfVxufVxuIl19